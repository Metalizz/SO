#include<stdio.h>
#include<stdlib.h>
#include<string.h>

int main() {
  int x,j,n,time,per,ban=0,quantum;
  int te=0,giro=0,t[10],ct[10],rt[10];

  printf("\n\t***| R O U N D _ R O B I N |***");

  printf("\n\n\tTotal De Procesos>> ");
  scanf("%d",&n);
  per=n;

  for(x=0;x<n;x++)
  {
    printf("\n\nTiempo Llegada #%d>> ",x+1);
    scanf("%d",&t[x]);

        printf("Ciclo CPU #%d>> ",x+1);
        scanf("%d",&ct[x]);
        rt[x]=ct[x];
  }
  printf("\nQuantum>> ");
  scanf("%d",&quantum);

  for(time=0,x=0;per!=0;)
  {
    if(rt[x]<=quantum && rt[x]>0)
    {
      time=time+rt[x];
      rt[x]=0;
      ban=1;
    }
    else if(rt[x]>0)
    {
      rt[x]=rt[x]-quantum;
      time=time+quantum;
    }
    if(rt[x]==0 && ban==1)
    {
      per--;
      te=te+time-t[x]-ct[x];
      giro=giro+time-t[x];
      ban=0;
    }
    if(x==n-1)
      x=0;
    else
     if(t[x+1]<=time)
      x++;
    else
      x=0;
  }
   printf("\nTiempo Promedio>> %.2f\n\n",giro/n);

  return 0;
}
